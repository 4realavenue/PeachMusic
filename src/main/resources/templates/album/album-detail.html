<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>앨범 상세 | PeachMusic</title>

    <link rel="stylesheet" th:href="@{/css/layout.css}">
    <link rel="stylesheet" th:href="@{/css/album-detail.css}">
    <script th:src="@{/js/sidebar.js}" defer></script>
</head>
<body>

<!-- 로그인 팝업 -->
<div id="loginPopup" class="login-popup hidden">로그인이 필요한 기능입니다.</div>

<div th:replace="~{fragments/layout :: mainLayout(~{::section})}">
    <section class="album-page">

        <!-- 상단 -->
        <header class="album-hero">
            <div class="album-art">
                <img id="albumImage" alt="album cover"/>
            </div>

            <div class="album-meta">
                <div class="album-eyebrow">ALBUM</div>
                <h1 id="albumName" class="album-title">-</h1>

                <div class="album-sub">
                    <span id="albumArtists"></span>
                    <span class="dot">•</span>
                    <span id="albumReleaseDate"></span>
                </div>

                <div class="album-actions">
                    <span id="likeCount" class="like-count">0</span>
                    <button id="heartBtn" class="heart-btn" aria-label="앨범 좋아요">❤</button>
                </div>
            </div>
        </header>

        <!-- 수록곡 -->
        <section class="tracks">
            <div class="section-head">
                <h2>수록곡</h2>
                <div class="section-line"></div>
            </div>

            <ul id="songList" class="track-list"></ul>
        </section>

    </section>
</div>

<div id="playlistModal" class="pl-modal hidden" aria-hidden="true">
    <div class="pl-backdrop" data-close="true"></div>

    <div class="pl-sheet">
        <div class="pl-head">
            <div class="pl-title">플레이리스트에 추가</div>
            <button id="playlistModalClose" class="pl-close">✕</button>
        </div>

        <div id="playlistList" class="pl-list"></div>

        <div class="pl-foot">
            <button id="playlistModalCancel" class="pl-cancel">취소</button>
        </div>
    </div>
</div>

<script th:inline="javascript">
    const albumId = /*[[${albumId}]]*/ 0;
</script>

<script type="module" th:src="@{/js/album-detail.js}"></script>
</body>
</html>